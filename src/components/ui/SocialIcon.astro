---
export interface Props {
  icon: string
  size?: string
  class?: string
}

const { icon, size = '1.25rem', class: className } = Astro.props

const icons = import.meta.glob<{ default: string }>('/src/icons/*.svg', {
  query: '?raw',
  import: 'default',
  eager: true
})

const iconKey = `/src/icons/${icon}.svg`
const IconContent = icons[iconKey]

if (!IconContent) {
  throw new Error(`Icon "${icon}" not found in /src/icons/`)
}
---

<span class:list={['social-icon', className]} style={{ width: size, height: size }}>
  <Fragment set:html={IconContent} />
</span>

<style>
  .social-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }
  .social-icon :global(svg) {
    width: 100%;
    height: 100%;
  }
</style>
